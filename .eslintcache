[{"E:\\work\\web_dev\\react_projects\\code-editor\\src\\index.js":"1","E:\\work\\web_dev\\react_projects\\code-editor\\src\\App.js":"2","E:\\work\\web_dev\\react_projects\\code-editor\\src\\reportWebVitals.js":"3","E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\StateProvider.js":"4","E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\reducer.js":"5","E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\Login.js":"6","E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\CodeEditor.js":"7","E:\\work\\web_dev\\react_projects\\code-editor\\src\\firebase.js":"8","E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\FileRow.js":"9"},{"size":725,"mtime":1611544098645,"results":"10","hashOfConfig":"11"},{"size":956,"mtime":1611551078852,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":382,"mtime":1611421387274,"results":"14","hashOfConfig":"11"},{"size":639,"mtime":1611558023628,"results":"15","hashOfConfig":"11"},{"size":1247,"mtime":1611544841483,"results":"16","hashOfConfig":"11"},{"size":5672,"mtime":1611551707624,"results":"17","hashOfConfig":"11"},{"size":712,"mtime":1611481661201,"results":"18","hashOfConfig":"11"},{"size":1376,"mtime":1611559066018,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"15dzga8",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\work\\web_dev\\react_projects\\code-editor\\src\\index.js",[],["42","43"],"E:\\work\\web_dev\\react_projects\\code-editor\\src\\App.js",["44"],"import './App.css';\n\nimport Login from './components/Login';\nimport CodeEditor from './components/CodeEditor';\n\nimport {useStateValue} from './components/StateProvider';\nimport { useEffect } from 'react';\n\nimport { auth } from './firebase';\n\nfunction App() {\n\n  const [{user}, dispatch] = useStateValue();\n\n  useEffect(() => {\n    auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        dispatch(\n          {\n            type: 'LOGIN',\n            payload: {\n              uid: authUser.uid,\n              photo: authUser.photoURL,\n              email: authUser.email,\n              displayName: authUser.displayName,\n            }\n          }\n        )\n      } else {\n        dispatch(\n          {\n            type: 'Logout',\n            payload: null\n          }\n        )\n      }\n    })\n  }, [])\n\n  // console.log(user);\n  \n  return (\n    <div className=\"app\">\n      {user? <CodeEditor /> : <Login />}\n    </div>\n  );\n}\n\nexport default App;\n","E:\\work\\web_dev\\react_projects\\code-editor\\src\\reportWebVitals.js",[],"E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\StateProvider.js",[],"E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\reducer.js",[],"E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\Login.js",["45"],"import { Button } from '@material-ui/core';\r\nimport React from 'react';\r\nimport './Login.css';\r\n\r\nimport {auth, provider} from '../firebase';\r\n\r\nfunction Login() {\r\n\r\n    const signIn = () => {\r\n        auth\r\n        .signInWithPopup(provider)\r\n        .catch(err => alert(err.message))\r\n    };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login__container\">\r\n                <img\r\n                    src=\"https://user-images.githubusercontent.com/674621/71187801-14e60a80-2280-11ea-94c9-e56576f76baf.png\"\r\n                    alt=\"\"\r\n                />\r\n                <Button\r\n                    startIcon={ \r\n                        <img\r\n                            style={{\r\n                                height: \"30px\",\r\n                                paddingRight: \"20px\"\r\n                            }} \r\n                            src=\"https://hrcdn.net/community-frontend/assets/google-colored-20b8216731.svg\"  \r\n                        />\r\n                    }\r\n                    onClick={signIn}\r\n                    variant='outlined'\r\n                >\r\n                    Sign in\r\n                </Button>\r\n            </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\CodeEditor.js",["46"],"import React, { useEffect, useState } from 'react';\r\nimport './CodeEditor.css';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport Editor from \"@monaco-editor/react\";\r\n\r\nimport {db, firebaseApp} from '../firebase';\r\nimport firebase from 'firebase';\r\n\r\nimport {useStateValue} from './StateProvider';\r\n\r\nimport FileRow from './FileRow';\r\n\r\nfunction CodeEditor() {\r\n\r\n    const [{user}, dispatch] = useStateValue();\r\n\r\n    const [file, setFile] = useState(null);\r\n    const [checked, setChecked] = useState(false);\r\n    const [progress, setProgress] = useState(false);\r\n    const [myFiles, setMyFiles] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setProgress(true);\r\n\r\n        db\r\n        .collection(\"users\")\r\n        .doc(user.email)\r\n        .collection(\"files\")\r\n        .orderBy(\"timestamp\", \"desc\")\r\n        .onSnapshot((snapshot) => \r\n            setMyFiles(\r\n                snapshot.docs.map((doc) => (\r\n                    {\r\n                        id: doc.id,\r\n                        data: doc.data(),\r\n                    }\r\n                ))\r\n            )\r\n        );\r\n\r\n        setProgress(false);\r\n    }, [file]);\r\n\r\n    console.log(myFiles)\r\n\r\n    const handleEditorChange = (value, event)  => {\r\n        console.log(\"Your CODE-->\", value);\r\n    };\r\n\r\n    const onChange = (e) => {\r\n        setFile(e.target.files[0]);\r\n    };\r\n\r\n    const addFile = () => {\r\n        if (file) {\r\n            setProgress(true);\r\n            const storageRef = firebaseApp.storage().ref()\r\n            const fileRef = storageRef.child(file.name)\r\n\r\n            fileRef\r\n            .put(file)\r\n            .then(snapshot => {\r\n                return snapshot.ref.getDownloadURL();  \r\n            })\r\n            .then(downloadURL => {\r\n                // console.log(downloadURL)\r\n\r\n                db\r\n                .collection(\"users\")\r\n                .doc(user.email)\r\n                .collection(\"files\")\r\n                .add(\r\n                    {\r\n                        fileName: file.name,\r\n                        fileUrl: downloadURL,\r\n                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                    }\r\n                )\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n             setProgress(false);\r\n        } else {\r\n            alert(\"Choose a file for upload!\")\r\n        }\r\n    };\r\n\r\n    \r\n    const logOut = () => {\r\n        dispatch(\r\n            {\r\n                type: 'LOGOUT',\r\n                payload: null\r\n            }\r\n        )\r\n    };\r\n\r\n    return (\r\n        <div className=\"codeEditor\">\r\n            <div className=\"codeEditor__header\">\r\n                <div className=\"codeEditor__headerLeft\">\r\n                    <Avatar\r\n                        className=\"codeEditor__avatar\"\r\n                        src={user.photo}\r\n                        alt=\"\"\r\n                        onClick={logOut} \r\n                    />\r\n\r\n                    <h3>{user.displayName}</h3>\r\n                </div>\r\n\r\n                <div className=\"codeEditor__headerMiddle\">\r\n                    <input \r\n                        type=\"file\"\r\n                        onChange={onChange}\r\n                    />\r\n\r\n                    <Button onClick={addFile}>\r\n                        Open in workspace\r\n                    </Button>\r\n                </div>\r\n\r\n                <div className=\"codeEditor__headerRight\">\r\n                    <img \r\n                        className=\"toggle__icon\" \r\n                        style={{backgroundColor: 'skyblue'}}\r\n                        src=\"https://image.flaticon.com/icons/svg/1164/1164954.svg\"\r\n                        alt=\"\" \r\n                    />\r\n                    <Switch\r\n                        checked={checked}\r\n                        onChange={() => setChecked((prev) => !prev)}\r\n                        color=\"primary\"\r\n                    />\r\n                    <img\r\n                        className=\"toggle__icon\" \r\n                        src=\"https://image.flaticon.com/icons/svg/2033/2033921.svg\" \r\n                        alt=\"\" \r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"codeEditor__body\">\r\n                <div className={`codeEditor__bodyLeft ${checked && 'codeEditor__bodyLeft--dark'}`}>\r\n                    <h3>Your Files</h3>\r\n\r\n                    <div className='codeEditor__files'>\r\n                        {progress? \r\n                            <CircularProgress /> \r\n                            :\r\n                            myFiles.map(({id, data: {fileName, fileUrl}}) => \r\n                                <FileRow\r\n                                    id={id} \r\n                                    fileName={fileName}\r\n                                    fileUrl={fileUrl}\r\n                                />\r\n                            ) \r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"codeEditor__bodyRight\">\r\n                    <Editor\r\n                        height=\"80vh\"\r\n                        theme={checked? \"vs-dark\" : \"\"}\r\n                        // path=\"script.js\"\r\n                        defaultLanguage=\"javascript\"\r\n                        defaultValue=\"// Code here\"\r\n                        onChange={handleEditorChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CodeEditor\r\n","E:\\work\\web_dev\\react_projects\\code-editor\\src\\firebase.js",[],"E:\\work\\web_dev\\react_projects\\code-editor\\src\\components\\FileRow.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":38,"column":6,"nodeType":"53","endLine":38,"endColumn":8,"suggestions":"54"},{"ruleId":"55","severity":1,"message":"56","line":24,"column":25,"nodeType":"57","endLine":30,"endColumn":27},{"ruleId":"51","severity":1,"message":"58","line":47,"column":8,"nodeType":"53","endLine":47,"endColumn":14,"suggestions":"59"},"no-native-reassign",["60"],"no-negated-in-lhs",["61"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["62"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'user.email'. Either include it or remove the dependency array.",["63"],"no-global-assign","no-unsafe-negation",{"desc":"64","fix":"65"},{"desc":"66","fix":"67"},"Update the dependencies array to be: [dispatch]",{"range":"68","text":"69"},"Update the dependencies array to be: [file, user.email]",{"range":"70","text":"71"},[807,809],"[dispatch]",[1299,1305],"[file, user.email]"]